# EditorConfig for WinRunAgent
# https://editorconfig.org

root = true

[*]
indent_style = space
indent_size = 4
end_of_line = crlf
charset = utf-8
trim_trailing_whitespace = true
insert_final_newline = true

[*.cs]
# C# code style settings
dotnet_sort_system_directives_first = true
dotnet_separate_import_directive_groups = false

# Namespace style - use file-scoped namespaces (IDE0160)
csharp_style_namespace_declarations = file_scoped:warning

# var preferences - allow var when type is apparent (IDE0008)
csharp_style_var_for_built_in_types = true:silent
csharp_style_var_when_type_is_apparent = true:silent
csharp_style_var_elsewhere = true:silent

# Expression body preferences (IDE0022)
csharp_style_expression_bodied_methods = true:silent
csharp_style_expression_bodied_constructors = false:silent
csharp_style_expression_bodied_properties = true:silent
csharp_style_expression_bodied_accessors = true:silent
csharp_style_expression_bodied_lambdas = true:silent
csharp_style_expression_bodied_local_functions = true:silent

# Primary constructor preference (IDE0290) - don't require it
csharp_style_prefer_primary_constructors = false:silent

# Unused parameters (IDE0060) - only warn for public APIs
dotnet_code_quality_unused_parameters = non_public:silent

# Unused expression values (IDE0058) - allow discarding
csharp_style_unused_value_expression_statement_preference = discard_variable:silent

# Namespace matching folder structure (IDE0130) - disable
dotnet_style_namespace_match_folder = false:silent

# Naming conventions
# NOTE: Rules are evaluated alphabetically by name, so we use numeric prefixes to control order.
# More specific rules (constants, static_readonly) must come before general rules (instance fields).

# 1. Private constants - UPPER_CASE with underscores (for Win32 API constants) (IDE1006)
dotnet_naming_rule.a0_private_constants_should_be_upper_case.severity = warning
dotnet_naming_rule.a0_private_constants_should_be_upper_case.symbols = private_constants
dotnet_naming_rule.a0_private_constants_should_be_upper_case.style = upper_case_style

dotnet_naming_symbols.private_constants.applicable_kinds = field
dotnet_naming_symbols.private_constants.applicable_accessibilities = private
dotnet_naming_symbols.private_constants.required_modifiers = const

dotnet_naming_style.upper_case_style.capitalization = all_upper
dotnet_naming_style.upper_case_style.word_separator = _

# 2. Static readonly fields - PascalCase (for Gate pattern) (IDE1006)
dotnet_naming_rule.a1_static_readonly_fields_should_be_pascal_case.severity = warning
dotnet_naming_rule.a1_static_readonly_fields_should_be_pascal_case.symbols = static_readonly_fields
dotnet_naming_rule.a1_static_readonly_fields_should_be_pascal_case.style = pascal_case_style

dotnet_naming_symbols.static_readonly_fields.applicable_kinds = field
dotnet_naming_symbols.static_readonly_fields.applicable_accessibilities = private
dotnet_naming_symbols.static_readonly_fields.required_modifiers = static, readonly

dotnet_naming_style.pascal_case_style.capitalization = pascal_case

# 3. Private instance fields - underscore prefix + camelCase
dotnet_naming_rule.b1_private_fields_should_be_underscore_camel_case.severity = warning
dotnet_naming_rule.b1_private_fields_should_be_underscore_camel_case.symbols = private_instance_fields
dotnet_naming_rule.b1_private_fields_should_be_underscore_camel_case.style = underscore_camel_case_style

dotnet_naming_symbols.private_instance_fields.applicable_kinds = field
dotnet_naming_symbols.private_instance_fields.applicable_accessibilities = private
dotnet_naming_symbols.private_instance_fields.required_modifiers =

dotnet_naming_style.underscore_camel_case_style.capitalization = camel_case
dotnet_naming_style.underscore_camel_case_style.required_prefix = _

# Code quality
dotnet_analyzer_diagnostic.category-Style.severity = warning

# Formatting
csharp_new_line_before_open_brace = all
csharp_new_line_before_else = true
csharp_new_line_before_catch = true
csharp_new_line_before_finally = true
csharp_indent_case_contents = true
csharp_indent_switch_labels = true
csharp_space_after_cast = false
csharp_space_after_keywords_in_control_flow_statements = true
csharp_space_between_method_declaration_parameter_list_parentheses = false
csharp_space_between_method_call_parameter_list_parentheses = false
csharp_preserve_single_line_statements = false
csharp_preserve_single_line_blocks = true

[*.{csproj,props,targets}]
indent_size = 2

[*.{json,yml,yaml}]
indent_size = 2
end_of_line = lf

[*.md]
trim_trailing_whitespace = false

